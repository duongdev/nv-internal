---
description: Guidelines for organizing test files in the project
globs: ["**/__tests__/**/*", "**/*.test.*", "**/*.spec.*"]
alwaysApply: false
---

# Test File Organization

- Test files should be placed in `__tests__` folders alongside the code they test
- Follow the pattern: `src/module/__tests__/module.test.ts`
- This keeps tests close to the implementation while maintaining clear separation
- Organize tests hierarchically using nested describe blocks to mirror the code structure
- Each test should be self-contained and not rely on data from other tests

## Test-Driven Development (TDD)

- **New Features:** Outline tests, write failing tests, implement code, refactor.
- **Bug Fixes:** Write a test reproducing the bug _before_ fixing it.

## Comprehensive Tests

Write thorough unit, integration, and/or end-to-end tests covering critical paths, edge cases, and major functionality.

## Tests Must Pass

All tests **must** pass before committing or considering a task complete. Notify the human developer immediately if tests fail and cannot be easily fixed.

## No Mock Data (Except Tests)

Use mock data _only_ within test environments. Development and production should use real or realistic data sources.

## Manual Verification

Supplement automated tests with manual checks where appropriate, especially for UI changes.
